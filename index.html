<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Pricing Calculator</title>
</head>
<body>
    <h1>API Pricing Calculator</h1>
    <form id="pricingForm">
        <label for="inputTokens">Input Tokens:</label>
        <input type="number" id="inputTokens" name="inputTokens"><br><br>

        <label for="outputTokens">Output Tokens:</label>
        <input type="number" id="outputTokens" name="outputTokens"><br><br>

        <label for="width">Image Width:</label>
        <input type="number" id="width" name="width" value="4096"><br><br>

        <label for="height">Image Height:</label>
        <input type="number" id="height" name="height" value="4096"><br><br>

        <label for="lowResolution">Low Resolution:</label>
        <input type="checkbox" id="lowResolution" name="lowResolution"><br><br>

        <button type="button" onclick="calculateCosts()">Calculate</button>
    </form>

    <h2>Results</h2>
    <p id="standardCost">Standard Pricing Cost: </p>
    <p id="batchCost">Batch API Pricing Cost: </p>
    <p id="visionCost">Vision Pricing Cost: </p>

    <script>
        function calculateStandardPricing(inputTokens, outputTokens) {
            const inputCost = (inputTokens / 1_000_000) * 0.15;
            const outputCost = (outputTokens / 1_000_000) * 0.60;
            return inputCost + outputCost;
        }

        function calculateBatchPricing(inputTokens, outputTokens) {
            const inputCost = (inputTokens / 1_000_000) * 0.075;
            const outputCost = (outputTokens / 1_000_000) * 0.30;
            return inputCost + outputCost;
        }

        function calculateVisionPricing(width, height, lowResolution) {
            const baseTokens = 2833;
            let totalTokens;

            if (lowResolution) {
                totalTokens = baseTokens;
            } else {
                const resizedWidth = 768;
                const resizedHeight = 768;
                const tiles = (resizedWidth / 512) * (resizedHeight / 512);
                const tileTokens = 5667 * tiles;
                totalTokens = baseTokens + tileTokens;
            }

            return (totalTokens / 1_000_000) * 0.15;
        }

        function calculateCosts() {
            const inputTokens = document.getElementById('inputTokens').value;
            const outputTokens = document.getElementById('outputTokens').value;
            const width = document.getElementById('width').value;
            const height = document.getElementById('height').value;
            const lowResolution = document.getElementById('lowResolution').checked;

            const standardCost = calculateStandardPricing(inputTokens, outputTokens).toFixed(6);
            const batchCost = calculateBatchPricing(inputTokens, outputTokens).toFixed(6);
            const visionCost = calculateVisionPricing(width, height, lowResolution).toFixed(6);

            document.getElementById('standardCost').innerText = `Standard Pricing Cost: $${standardCost}`;
            document.getElementById('batchCost').innerText = `Batch API Pricing Cost: $${batchCost}`;
            document.getElementById('visionCost').innerText = `Vision Pricing Cost: $${visionCost}`;
        }
    </script>
</body>
</html>
